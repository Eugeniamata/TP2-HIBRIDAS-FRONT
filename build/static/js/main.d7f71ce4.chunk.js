(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{75:function(e,t,n){},76:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),r=n(30),o=n.n(r),s=(n(75),n(10)),j=(n(76),n(13)),u=n(27),d=n(1);var a=function(e){return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"Home"}),Object(d.jsx)("p",{children:"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Modi atque debitis officia natus magni perferendis veritatis sint nostrum ducimus, laboriosam animi porro, eius reiciendis similique iusto maxime laudantium excepturi doloribus!"})]})},l=Object(c.createContext)();function b(e){var t=Object(c.useState)([{id:1,name:"Product 1"},{id:2,name:"Product 2"},{id:3,name:"Product 3"},{id:4,name:"Product 4"},{id:5,name:"Product 5"}]),n=Object(s.a)(t,2),i=n[0],r=n[1];return Object(d.jsx)(l.Provider,{value:{products:i,setProducts:r,remove:function(e){r(i.filter((function(t){return t.id!==e.id})))}},children:e.children})}function h(){var e=Object(c.useContext)(l);if(void 0===e)throw new Error("useProducts must be used within a ProductsProvider");return e}function O(e){var t=h(),n=t.products,c=t.remove;return Object(d.jsxs)("li",{children:[Object(d.jsxs)(u.b,{to:"/products/".concat(e.product.id),children:[e.product.id,"/",n.length," - ",e.product.name]}),Object(d.jsx)("button",{onClick:function(){c(e.product)},children:"Eliminar"})]})}function x(){var e=h().products;return Object(d.jsx)("ul",{children:e.map((function(e){return Object(d.jsx)(O,{product:e},e.id)}))})}var p=function(e){return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"Products"}),Object(d.jsx)(b,{children:Object(d.jsx)(x,{})})]})};var m=function(e){var t=Object(j.h)().id;return Object(d.jsx)("div",{children:Object(d.jsxs)("h1",{children:["Producto #",t]})})},f=n(122),v=n(123),g=n(126),P=n(125),S=n(127);var C=function(e){var t=e.onLogin,n=Object(c.useState)(""),i=Object(s.a)(n,2),r=i[0],o=i[1],j=Object(c.useState)(""),u=Object(s.a)(j,2),a=u[0],l=u[1];return Object(d.jsx)(g.a,{maxWidth:"sm",children:Object(d.jsxs)(P.a,{children:[Object(d.jsx)(S.a,{children:Object(d.jsx)(f.a,{label:"E-Mail",value:r,onChange:function(e){o(e.target.value)}})}),Object(d.jsx)(S.a,{children:Object(d.jsx)(f.a,{label:"Password",type:"password",value:a,onChange:function(e){l(e.target.value)}})}),Object(d.jsx)(v.a,{variant:"outlined",onClick:function(e){return function(e){e.preventDefault(),fetch("http://localhost:9001/user/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,password:a})}).then((function(e){return e.json()})).then((function(e){localStorage.setItem("token",e.token),t()})).catch((function(e){alert(JSON.stringify(e))})),console.log(r,a)}(e)},children:"Acceder"})]})})};function w(e){return e.isAuthenticated?e.children:Object(d.jsx)(j.a,{to:"/login"})}function y(e){return e.isAuthenticated?e.children:null}var k=function(e){var t=Object(c.useState)(!1),n=Object(s.a)(t,2),i=n[0],r=n[1],o=Object(j.g)(),l=function(){r(!0),o("/",{replace:!0})};return Object(c.useEffect)((function(){localStorage.getItem("token")?l():r(!1)}),[]),Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("h1",{children:"Este es el titulo de mi pagina web"}),Object(d.jsx)(y,{isAuthenticated:i,children:Object(d.jsx)("nav",{children:Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:Object(d.jsx)(u.b,{to:"/",children:"Home"})}),Object(d.jsx)("li",{children:Object(d.jsx)(u.b,{to:"/login",children:"Login"})}),Object(d.jsx)("li",{children:Object(d.jsx)(u.b,{to:"/products",children:"Products"})})]})})}),Object(d.jsxs)(j.d,{children:[Object(d.jsx)(j.b,{path:"/",element:Object(d.jsx)(w,{isAuthenticated:i,children:Object(d.jsx)(a,{})})}),Object(d.jsx)(j.b,{path:"/login",element:Object(d.jsx)(C,{onLogin:l})}),Object(d.jsx)(j.b,{path:"/products",element:Object(d.jsx)(w,{isAuthenticated:i,children:Object(d.jsx)(p,{})})}),Object(d.jsx)(j.b,{path:"/products/:id",element:Object(d.jsx)(m,{})}),Object(d.jsx)(j.b,{path:"/404",element:Object(d.jsx)("h1",{children:"Bloqueado por bobi"})}),Object(d.jsx)(j.b,{path:"*",element:Object(d.jsx)(j.a,{to:"/404"})})]})]})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,128)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),i(e),r(e),o(e)}))};o.a.render(Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(u.a,{children:Object(d.jsx)(k,{})})}),document.getElementById("root")),A()}},[[85,1,2]]]);
//# sourceMappingURL=main.d7f71ce4.chunk.js.map